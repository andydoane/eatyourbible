<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Devotional Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-gradient-top: #eef3ff;
      --bg-gradient-bottom: #d8e8ff;
      --card-bg: #ffffff;
      --accent: #3f6df6;
      --accent-dark: #2743a5;
      --text-main: #1f2933;
      --text-muted: #6b7280;
      --question-bg: #111827; /* dark question background */
      --button-radius: 0.9rem;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    html,
    body {
      height: 100%;
    }

    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: stretch;
      background: linear-gradient(160deg, var(--bg-gradient-top), var(--bg-gradient-bottom));
      color: var(--text-main);
      overflow: hidden; /* prevent scrolling on TVs */
    }

    #app {
      width: 100%;
      height: 100vh;
      max-width: none;
      padding: 0;
      display: flex;
      align-items: stretch;
      justify-content: stretch;
    }

    .screen-card {
      background: var(--card-bg);
      border-radius: 0;
      box-shadow: none;
      padding: 18px 14px 22px;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      min-height: 100vh;
      width: 100%;
      max-width: 100%;
      position: relative;
      overflow: hidden;
    }

    @media (min-width: 768px) {
      .screen-card {
        padding: 26px 32px 30px;
      }
    }

    .hidden {
      display: none;
    }

    .card-header {
      text-align: center;
      margin-bottom: 18px;
    }

    .lesson-image-wrapper {
      width: 140px;
      height: 140px;
      margin: 0 auto 12px;
      border-radius: 1.25rem;
      overflow: hidden;
      background: #f3f4ff;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.2);
    }

    @media (min-width: 1024px) {
      .lesson-image-wrapper {
        width: 200px;
        height: 200px;
      }
    }

    .lesson-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      transform-origin: top center;
    }

    .bounce-drop {
      animation: dropBounce 0.9s ease-out;
    }

    @keyframes dropBounce {
      0% {
        transform: translateY(-150%) scale(0.8);
      }
      60% {
        transform: translateY(10%) scale(1.05);
      }
      80% {
        transform: translateY(-4%) scale(0.98);
      }
      100% {
        transform: translateY(0) scale(1);
      }
    }

    .card-title {
      font-size: clamp(1.5rem, 3vw, 2.6rem);
      font-weight: 700;
      margin-bottom: 4px;
    }

    .card-subtitle {
      font-size: clamp(0.95rem, 1.6vw, 1.2rem);
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .primary-button,
    .secondary-button {
      border: none;
      cursor: pointer;
      padding: 12px 20px;
      border-radius: 999px;
      font-size: clamp(1rem, 1.5vw, 1.2rem);
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background-color 0.1s ease;
    }

    .primary-button {
      background: var(--accent);
      color: #ffffff;
      box-shadow: 0 10px 25px rgba(63, 109, 246, 0.5);
    }

    .primary-button:hover {
      background: var(--accent-dark);
      transform: translateY(-1px);
      box-shadow: 0 15px 30px rgba(63, 109, 246, 0.6);
    }

    .secondary-button {
      background: #e5e7eb;
      color: #111827;
    }

    .center-row {
      display: flex;
      justify-content: center;
      margin-top: 10px;
      gap: 12px;
      flex-wrap: wrap;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-size: clamp(0.85rem, 1.2vw, 1.05rem);
      color: var(--text-muted);
    }

    .top-bar span strong {
      color: var(--text-main);
    }

    .sound-toggle {
      border-radius: 999px;
      border: none;
      width: 44px;
      height: 44px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.3rem;
      background: #f3f4f6;
      box-shadow: 0 3px 8px rgba(15, 23, 42, 0.18);
    }

    /* LAYOUT: split space 50/50 between question and answers */
    .quiz-main {
      flex: 1;
      min-height: 0;          /* allow children to share space */
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    /* TOP HALF â€“ question */
    .question-panel {
      flex: 1 0 0;            /* takes about half of remaining height */
      display: flex;
      align-items: stretch;
      min-height: 0;
    }

    .question-card {
      width: 100%;
      height: 100%;           /* fill whole question area */
      border-radius: 1.25rem;
      background: var(--question-bg);
      color: #ffffff;
      padding: 16px 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.35);
    }

    .question-text {
      font-size: clamp(1.4rem, 3.2vw, 3rem);
      font-weight: 600;
      line-height: 1.3;
    }

    /* BOTTOM HALF â€“ answers */
    .answers-panel {
      flex: 1 0 0;            /* other half of the space */
      display: flex;
      flex-direction: column;
      padding-top: 10px;
      min-height: 0;
    }

    .answers-grid {
      flex: 1 1 0;
      display: grid;
      grid-template-columns: 1fr;
      grid-auto-rows: 1fr;    /* rows grow to fill space */
      gap: 12px;
      align-content: stretch;
    }

    @media (min-width: 640px) {
      .answers-grid {
        grid-template-columns: 1fr 1fr; /* 2x2 on wider screens */
      }
    }

    .answer-button {
      width: 100%;
      height: 100%;           /* fill grid cell vertically */
      padding: 16px 18px;
      border-radius: var(--button-radius);
      border: none;
      cursor: pointer;
      font-size: clamp(1.05rem, 2.4vw, 1.9rem);
      font-weight: 600;
      text-align: left;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 7px 15px rgba(15, 23, 42, 0.18);
      transition: transform 0.08s ease, box-shadow 0.08s ease, background-color 0.08s ease;
    }

    .answer-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.22);
      filter: brightness(1.05);
    }

    .answer-button:active {
      transform: translateY(0);
      box-shadow: 0 6px 12px rgba(15, 23, 42, 0.16);
      filter: brightness(0.97);
    }

    .answer-text {
      flex: 1;
      line-height: 1.35;
    }

    .answer-button.disabled {
      pointer-events: none;
      opacity: 0.8;
      filter: none;
    }

    /* COLOR BUTTON BACKGROUNDS */
    .color-red {
      background: #ff5a51;
      color: #ffffff;
    }

    .color-yellow {
      background: #ffc751;
      color: #111827;
    }

    .color-blue {
      background: #40b9c5;
      color: #ffffff;
    }

    .color-green {
      background: #a7cb6f;
      color: #ffffff;
    }

    .score-row {
      display: flex;
      justify-content: space-between;
      font-size: clamp(0.95rem, 1.6vw, 1.2rem);
      padding-top: 10px;
      margin-top: 4px;
      border-top: 1px solid #e5e7eb;
      color: var(--text-muted);
    }

    .score-row strong {
      color: var(--text-main);
    }

    .progress-track {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
      margin-top: 6px;
    }

    .progress-fill {
      height: 100%;
      width: 0%;
      border-radius: inherit;
      background: linear-gradient(90deg, #3f6df6, #22c55e);
      transition: width 0.25s ease;
    }

    /* Feedback overlay */
    #feedback-overlay {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
      pointer-events: none;
    }

    #feedback-overlay.visible {
      display: flex;
    }

    .feedback-inner {
      background: rgba(15, 23, 42, 0.68);
      border-radius: 999px;
      padding: 18px 24px;
      text-align: center;
      color: #ffffff;
      max-width: 90%;
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.7);
    }

    .feedback-title {
      font-size: clamp(2rem, 3.5vw, 3rem);
      font-weight: 800;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    .feedback-title.correct-text {
      color: #bbf7d0;
    }

    .feedback-title.incorrect-text {
      color: #fecaca;
    }

    .feedback-detail {
      font-size: clamp(1rem, 1.8vw, 1.3rem);
      margin-top: 4px;
    }

    .star {
      position: fixed;
      top: -40px;
      font-size: clamp(1.6rem, 2.6vw, 2.2rem);
      animation: fall 1.2s linear forwards;
      z-index: 60;
      pointer-events: none;
    }

    @keyframes fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* End screen */
    .end-main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 14px;
      text-align: center;
    }

    .end-score {
      font-size: clamp(2.2rem, 3.3vw, 3rem);
      font-weight: 800;
      color: var(--accent-dark);
    }

    .end-detail {
      font-size: clamp(1.05rem, 1.8vw, 1.3rem);
      color: var(--text-muted);
    }

    .end-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 12px;
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- TITLE SCREEN -->
    <div id="title-screen" class="screen-card">
      <div class="card-header">
        <div class="lesson-image-wrapper">
          <img id="lesson-image" class="lesson-image" src="quizimages/ot01image.png" alt="Lesson image" />
        </div>
        <h1 id="lesson-title" class="card-title">Sample Devotional Quiz</h1>
        <p id="lesson-subtitle" class="card-subtitle">
          10 questions to review today&apos;s Bible story
        </p>
      </div>
      <div class="center-row" style="margin-top: auto;">
        <button id="start-quiz-btn" class="primary-button">
          <span>Go fullscreen &amp; start</span> <span>â–¶</span>
        </button>
      </div>
    </div>

    <!-- QUIZ SCREEN -->
    <div id="quiz-screen" class="screen-card hidden">
      <div class="top-bar">
        <span>Question <strong id="question-number">1</strong> of <strong id="total-questions">10</strong></span>
        <button id="sound-toggle" class="sound-toggle" aria-label="Toggle sound">
          ðŸ”Š
        </button>
      </div>
      <div class="progress-track">
        <div id="progress-fill" class="progress-fill"></div>
      </div>

      <div class="quiz-main">
        <!-- top 50%: question card -->
        <div class="question-panel">
          <div class="question-card">
            <div class="question-text" id="question-text">
              Question text will go here
            </div>
          </div>
        </div>

        <!-- bottom 50%: answers + score -->
        <div class="answers-panel">
          <div class="answers-grid">
            <button class="answer-button color-red" data-button-index="0">
              <span class="answer-text"></span>
            </button>
            <button class="answer-button color-yellow" data-button-index="1">
              <span class="answer-text"></span>
            </button>
            <button class="answer-button color-blue" data-button-index="2">
              <span class="answer-text"></span>
            </button>
            <button class="answer-button color-green" data-button-index="3">
              <span class="answer-text"></span>
            </button>
          </div>

          <div class="score-row">
            <span>Score: <strong id="score-display">0</strong></span>
            <span>Streak: <strong id="streak-display">x0</strong></span>
          </div>
        </div>
      </div>
    </div>

    <!-- END SCREEN -->
    <div id="end-screen" class="screen-card hidden">
      <div class="card-header">
        <h2 class="card-title">Quiz Complete!</h2>
        <p class="card-subtitle">Here&apos;s how you did</p>
      </div>
      <div class="end-main">
        <div class="end-score" id="final-score">
          0 points
        </div>
        <div class="end-detail" id="final-correct">
          You got 0 out of 10 correct
        </div>
        <div class="end-buttons">
          <button id="play-again-btn" class="primary-button">Play Again</button>
          <button id="back-to-title-btn" class="secondary-button">Back to Title</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FEEDBACK OVERLAY -->
  <div id="feedback-overlay">
    <div class="feedback-inner">
      <div id="feedback-title" class="feedback-title">CORRECT</div>
      <div id="feedback-detail" class="feedback-detail"></div>
    </div>
  </div>

  <script>
    /*******************
     * CONFIG SECTION  *
     *******************/

    // Change this lesson ID when you copy the file for a new devotional
    const LESSON_ID = "ot01";

    // Title text on the opening screen
    const LESSON_TITLE_TEXT = "Sample Devotional Quiz";

    // Subtitle text under the title on opening screen
    const LESSON_SUBTITLE_TEXT = "10 questions to review today's Bible story";

    // Path to the lesson image
    const LESSON_IMAGE_PATH = `quizimages/${LESSON_ID}image.png`;

    // Question data
    // For each new devotional, edit ONLY this QUESTIONS array
    const QUESTIONS = [
  {
    text: "What did God create on day one?",
    answers: [
      "The heavens and the earth and light",
      "The sky and the sea",
      "Dry land and plants",
      "Sun, moon, and stars"
    ],
    correctIndex: 0
  },
  {
    text: "What did God create on day two?",
    answers: [
      "He separated the sky and the sea",
      "Dry land and plants",
      "Birds and fish",
      "Land animals and human beings"
    ],
    correctIndex: 0
  },
  {
    text: "What did God create on day three?",
    answers: [
      "Dry land and plants",
      "The sky and the sea",
      "Sun, moon, and stars",
      "Birds and fish"
    ],
    correctIndex: 0
  },
  {
    text: "What did God create on day four?",
    answers: [
      "Sun, moon, and stars",
      "Dry land and plants",
      "Land animals and people",
      "Birds and fish"
    ],
    correctIndex: 0
  },
  {
    text: "What did God create on day five?",
    answers: [
      "Birds and fish",
      "The sky and the sea",
      "Land animals and people",
      "Sun, moon, and stars"
    ],
    correctIndex: 0
  },
  {
    text: "What did God create on day six?",
    answers: [
      "Land animals and human beings",
      "Birds and fish",
      "Dry land and plants",
      "Nothing, He rested"
    ],
    correctIndex: 0
  },
  {
    text: "How are human beings different than everything else God made?",
    answers: [
      "Weâ€™re made in His likeness and given the job to rule over His creation",
      "We can swim and fly better than all animals",
      "We were created before light and water",
      "We live under the sea like fish"
    ],
    correctIndex: 0
  },
  {
    text: "What did God create on day seven?",
    answers: [
      "Nothing, He rested",
      "Birds and fish",
      "The sky and the sea",
      "Sun, moon, and stars"
    ],
    correctIndex: 0
  },
  {
    text: "How did God create everything?",
    answers: [
      "Out of nothing, just by speaking",
      "By using tools and machines",
      "By asking the angels to build it",
      "By finding pieces that were already there"
    ],
    correctIndex: 0
  },
  {
    text: "What did God say after seeing everything He made?",
    answers: [
      "It was very good",
      "It was almost good enough",
      "It needed to be fixed later",
      "He wasnâ€™t sure He liked it"
    ],
    correctIndex: 0
  }
];


    /***********************
     * GAME IMPLEMENTATION *
     ***********************/

    // Screens
    const titleScreen = document.getElementById("title-screen");
    const quizScreen = document.getElementById("quiz-screen");
    const endScreen = document.getElementById("end-screen");

    // Title elements
    const lessonImageEl = document.getElementById("lesson-image");
    const lessonTitleEl = document.getElementById("lesson-title");
    const lessonSubtitleEl = document.getElementById("lesson-subtitle");
    const startQuizBtn = document.getElementById("start-quiz-btn");

    // Quiz elements
    const questionNumberEl = document.getElementById("question-number");
    const totalQuestionsEl = document.getElementById("total-questions");
    const progressFillEl = document.getElementById("progress-fill");
    const soundToggleBtn = document.getElementById("sound-toggle");
    const questionTextEl = document.getElementById("question-text");
    const answerButtons = Array.from(document.querySelectorAll(".answer-button"));
    const scoreDisplayEl = document.getElementById("score-display");
    const streakDisplayEl = document.getElementById("streak-display");

    // End elements
    const finalScoreEl = document.getElementById("final-score");
    const finalCorrectEl = document.getElementById("final-correct");
    const playAgainBtn = document.getElementById("play-again-btn");
    const backToTitleBtn = document.getElementById("back-to-title-btn");

    // Feedback overlay
    const feedbackOverlay = document.getElementById("feedback-overlay");
    const feedbackTitleEl = document.getElementById("feedback-title");
    const feedbackDetailEl = document.getElementById("feedback-detail");

    // Web Audio
    let audioCtx = null;
    let soundMuted = false;

    function ensureAudioContext() {
      if (!audioCtx) {
        const AC = window.AudioContext || window.webkitAudioContext;
        if (AC) audioCtx = new AC();
      }
    }

    function playTone(freq, duration, type = "sine") {
      if (soundMuted) return;
      ensureAudioContext();
      if (!audioCtx) return;

      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      const now = audioCtx.currentTime;

      osc.type = type;
      osc.frequency.setValueAtTime(freq, now);

      gain.gain.setValueAtTime(0.001, now);
      gain.gain.linearRampToValueAtTime(0.18, now + 0.01);
      gain.gain.linearRampToValueAtTime(0.0, now + duration);

      osc.connect(gain);
      gain.connect(audioCtx.destination);

      osc.start(now);
      osc.stop(now + duration + 0.02);
    }

    function playCorrectSound() {
      if (soundMuted) return;
      ensureAudioContext();
      if (!audioCtx) return;
      playTone(1046.5, 0.14, "sine");              // C6
      setTimeout(() => playTone(1318.5, 0.16, "sine"), 90); // E6
    }

    function playIncorrectSound() {
      if (soundMuted) return;
      ensureAudioContext();
      if (!audioCtx) return;

      const osc = audioCtx.createOscillator();
      const gain = audioCtx.createGain();
      const now = audioCtx.currentTime;

      osc.type = "square";
      osc.frequency.setValueAtTime(300, now);
      osc.frequency.linearRampToValueAtTime(140, now + 0.25);

      gain.gain.setValueAtTime(0.16, now);
      gain.gain.linearRampToValueAtTime(0.0, now + 0.25);

      osc.connect(gain);
      gain.connect(audioCtx.destination);

      osc.start(now);
      osc.stop(now + 0.27);
    }

    let currentQuestionIndex = 0;
    let score = 0;
    let streak = 0;
    let correctCount = 0;
    const totalQuestions = QUESTIONS.length;

    // Initialize static UI
    lessonImageEl.src = LESSON_IMAGE_PATH;
    lessonTitleEl.textContent = LESSON_TITLE_TEXT;
    lessonSubtitleEl.textContent = LESSON_SUBTITLE_TEXT;
    totalQuestionsEl.textContent = totalQuestions.toString();

    function showScreen(name) {
      titleScreen.classList.add("hidden");
      quizScreen.classList.add("hidden");
      endScreen.classList.add("hidden");

      if (name === "title") {
        titleScreen.classList.remove("hidden");
        lessonImageEl.classList.remove("bounce-drop");
        void lessonImageEl.offsetWidth;
        lessonImageEl.classList.add("bounce-drop");
      } else if (name === "quiz") {
        quizScreen.classList.remove("hidden");
      } else {
        endScreen.classList.remove("hidden");
      }
    }

    function requestFullscreenSafe() {
      const elem = document.documentElement;
      if (elem.requestFullscreen) {
        elem.requestFullscreen().catch(() => {});
      } else if (elem.webkitRequestFullscreen) {
        elem.webkitRequestFullscreen();
      }
    }

    function shuffledIndices(n) {
      const arr = Array.from({ length: n }, (_, i) => i);
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function updateScoreAndStreakDisplay() {
      scoreDisplayEl.textContent = score.toString();
      streakDisplayEl.textContent = "x" + streak.toString();
    }

    function updateProgress() {
      const num = currentQuestionIndex + 1;
      questionNumberEl.textContent = num.toString();
      progressFillEl.style.width = (num / totalQuestions) * 100 + "%";
    }

    function triggerStarRain() {
      const starCount = 18;
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement("span");
        star.classList.add("star");
        star.textContent = "â­";
        star.style.left = Math.random() * 100 + "vw";
        star.style.animationDelay = Math.random() * 0.5 + "s";
        document.body.appendChild(star);
        star.addEventListener("animationend", () => star.remove());
      }
    }

    function showFeedback(isCorrect, correctAnswerText, pointsAwarded) {
      feedbackOverlay.classList.add("visible");
      if (isCorrect) {
        feedbackTitleEl.textContent = "CORRECT";
        feedbackTitleEl.classList.add("correct-text");
        feedbackTitleEl.classList.remove("incorrect-text");
        feedbackDetailEl.textContent = pointsAwarded ? `+${pointsAwarded} points` : "";
      } else {
        feedbackTitleEl.textContent = "INCORRECT";
        feedbackTitleEl.classList.add("incorrect-text");
        feedbackTitleEl.classList.remove("correct-text");
        feedbackDetailEl.textContent = "Correct answer: " + correctAnswerText;
      }
    }

    function hideFeedback() {
      feedbackOverlay.classList.remove("visible");
      feedbackDetailEl.textContent = "";
    }

    function loadCurrentQuestion() {
      const q = QUESTIONS[currentQuestionIndex];
      questionTextEl.textContent = q.text;

      answerButtons.forEach(btn => {
        btn.classList.remove("disabled");
        btn.disabled = false;
      });

      const order = shuffledIndices(q.answers.length);
      answerButtons.forEach((btn, pos) => {
        const idx = order[pos];
        btn.dataset.answerIndex = idx.toString();
        btn.querySelector(".answer-text").textContent = q.answers[idx];
      });

      updateProgress();
      updateScoreAndStreakDisplay();
    }

    function handleAnswerClick(e) {
      const btn = e.currentTarget;
      const q = QUESTIONS[currentQuestionIndex];

      answerButtons.forEach(b => {
        b.classList.add("disabled");
        b.disabled = true;
      });

      const chosenIndex = parseInt(btn.dataset.answerIndex || "-1", 10);
      const isCorrect = chosenIndex === q.correctIndex;
      let pointsAwarded = 0;

      if (isCorrect) {
        streak += 1;
        pointsAwarded = 100 * streak;
        score += pointsAwarded;
        correctCount += 1;
        updateScoreAndStreakDisplay();
        playCorrectSound();
        triggerStarRain();
      } else {
        streak = 0;
        updateScoreAndStreakDisplay();
        playIncorrectSound();
      }

      showFeedback(isCorrect, q.answers[q.correctIndex], pointsAwarded);

      setTimeout(() => {
        hideFeedback();
        currentQuestionIndex += 1;
        if (currentQuestionIndex >= totalQuestions) {
          endQuiz();
        } else {
          loadCurrentQuestion();
        }
      }, isCorrect ? 1400 : 1800);
    }

    function startQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      streak = 0;
      correctCount = 0;
      showScreen("quiz");
      loadCurrentQuestion();
    }

    function endQuiz() {
      showScreen("end");
      finalScoreEl.textContent = `${score} points`;
      finalCorrectEl.textContent = `You got ${correctCount} out of ${totalQuestions} correct`;
    }

    // Event listeners
    startQuizBtn.addEventListener("click", () => {
      requestFullscreenSafe();
      startQuiz();
    });

    answerButtons.forEach(btn => btn.addEventListener("click", handleAnswerClick));

    playAgainBtn.addEventListener("click", startQuiz);

    backToTitleBtn.addEventListener("click", () => showScreen("title"));

    soundToggleBtn.addEventListener("click", () => {
      soundMuted = !soundMuted;
      soundToggleBtn.textContent = soundMuted ? "ðŸ”‡" : "ðŸ”Š";
    });

    // Start on title
    showScreen("title");
  </script>
</body>
</html>
