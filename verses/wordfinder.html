<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Verse Word Checker</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
  }
  textarea {
    width: 100%;
    height: 80px;
  }
  button {
    margin-top: 10px;
    padding: 8px 12px;
  }
  pre {
    background: #f4f4f4;
    padding: 10px;
    white-space: pre-wrap;
  }
</style>
</head>
<body>

<h2>Submit Verse</h2>

<textarea id="verseInput" placeholder="Enter your text here..."></textarea>
<br>
<button onclick="processVerse()">Submit verse</button>

<h3>List 1 (Period Format)</h3>
<pre id="list1"></pre>

<h3>List 2 (JSON Format)</h3>
<pre id="list2"></pre>

<script>
let manifestWords = [];

// Load the JSON file
fetch('words_manifest.json')
  .then(response => response.json())
  .then(data => {
    manifestWords = data.map(word => word.toLowerCase());
  })
  .catch(error => {
    console.error('Error loading JSON:', error);
  });

function processVerse() {
  const input = document.getElementById('verseInput').value;

  // Clean and split input
  const words = input
    .toLowerCase()
    .replace(/[^a-z\s]/g, '')   // remove punctuation
    .split(/\s+/)
    .filter(word => word.length > 0);

  // Compare against manifest
  const matchedWords = words.filter(word => manifestWords.includes(word));

  // List 1: Period format
  const list1Output = matchedWords.map(word => word + '.').join(' ');
  document.getElementById('list1').textContent = list1Output;

  // List 2: JSON format
  const list2Output = matchedWords.map(word => `  "${word}",`).join('\n');
  document.getElementById('list2').textContent = list2Output;
}
</script>

</body>
</html>
